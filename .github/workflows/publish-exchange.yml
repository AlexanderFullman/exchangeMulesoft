name: Publish RAML to Exchange

on:
  push:
    branches: [develop]

jobs:
  publish:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Install Anypoint CLI
        run: npm install -g anypoint-cli-v4

      - name: Upload to Exchange
        run: |
          anypoint-cli-v4 exchange:asset:upload \
            --client_id 36dbcb170660407a9c432dd9a943f29a \
            --client_secret bf4e9A2EC50544abBF33C550438a28d8 \
            --organization d6063010-0be5-4202-bb96-5a6211dc5d2e \
            exchangeMulesoft/1.0.4
